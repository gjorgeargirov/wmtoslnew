# Cloudflare Worker configuration
name = "wmtoslnew"
main = "worker.js"
compatibility_date = "2024-01-01"

# D1 Database binding
# Create the database first: npx wrangler d1 create wmtoslnew-db
# Then run migrations: npx wrangler d1 execute wmtoslnew-db --file=./schema.sql
[[d1_databases]]
binding = "DB"
database_name = "wmtoslnew-db"
database_id = "c6d5e403-07ed-4eb9-94b2-e49d4ddb3ebe"

# Environment variables (set these in Cloudflare Dashboard or via CLI)
# For security, set SNAPLOGIC_API_TOKEN in Cloudflare Dashboard:
# Workers & Pages > Your Worker > Settings > Variables and Secrets
[env.production]
vars = { SNAPLOGIC_URL = "https://emea.snaplogic.com/api/1/rest/slsched/feed/ptnrIWConnect/Accelerator/Initial/01_WM.SL_Initialization_API" }

[env.staging]
vars = { SNAPLOGIC_URL = "https://emea.snaplogic.com/api/1/rest/slsched/feed/ptnrIWConnect/Accelerator/Initial/01_WM.SL_Initialization_API" }

# Worker limits
# Note: CPU limits are not supported on the Free plan
# [limits]
# cpu_ms = 50000  # 50 seconds CPU time limit (requires paid plan)
